## 套接字
```
IP地址 + TCP/UDP + 端口 = 套接字
```
## TCP，HTTP和socket之间的关系
```
1.TCP协议属于传输层；HTTP协议属于应用层
2.客户端与服务器之间通过TCP协议的三次握手机制建立连接，然后，双方通过HTTP协议进行交互
3.socket编程是对TCP/UDP协议进行封装，类似于一个接口，作用是相当于TCP与HTTP站之间的桥梁。
```
## Ajax短轮询，Ajax长轮询和HTTP流
* 轮询
```
在特定的时间间隔内，由浏览器对服务器发起HTTP请求，然后，由服务器返回数据给浏览器
```
* Ajax短轮询
```
1.定义
    客户端周期性的向服务器发起HTTP请求，不管服务器是否真正获取到数据，都会向客户端返回响应。
由HTTP/1.1的 **持久连接**(建立一次TCP连接，发送多个请求)和  **管线化技术** (异步发送请求),使得HTTP请求
可以建立一次TCP链接之后可以发起多个异步请求。
2.缺点
    客户端需要不断的向服务器发出请求，然而，HTTP请求在每次发送时都会带上很长的请求头部字节，其中真正有效的数据可能是很
小的一部分。服务器会浪费带宽等资源。
```
* Ajax长轮询
```
1.定义
    客户端在向服务器发送HTTP请求之后，服务器并不是每次都会响应:当服务器得到新的数据时，会向客户端传输数据；当数据没有更新时，
服务器会保持这个连接，等待更新数据之后，才会向客户端传输数据。当然如果服务器数据长时间没有更新，一段时间后，请求就会超时。客户
端在收到超时信息时，就会重新发送一个新的HTTP请求给服务器。
```
* Ajax短轮询与Ajax长轮询的异同
```
相同点
    客户端需要向服务器端发送HTTP请求
不同点(服务器如何响应)
    AJax短轮询:服务器会立即响应，不管数据是否有效
    AJax长轮询:等待数据更新时才会响应
```
* HTTP流
```
1.定义
    HTTP流只建立一次TCP连接，在3次握手之后进行HTTP通信。此时客户端向服务器发送一个HTTP请求，而服务器保持这个连接打开，
周期性的向客户端发送数据。如果服务器没有数据更新时，服务器不会响应。而是保持这个连接；如果数据跟新了，会立即传输数据给客户端。
```
* (长，短)轮询和HTTP流对比
```
1.传统的轮询技术(AJax短轮询)
    是客户端向服务器发起HTTP请求，无论数据是否更新，服务器都会传输数据，一个request请求对应一个response
2.服务器推送技术(AJax长轮询)
    是短轮询的变种，是客户端向服务器发送HTTP请求，只有等待数据更新之后才会传输数据，否则服务器保持连接状态。
接着发送下一个HTTP请求，一个request对应一个response
3.服务器推送技术(HTTP流)
    客户端只发送一次HTTP请求，服务器保持这个链接，在数据更新后，服务器会传输数据给客户端。否则保持这个连接。
一个requrest请求对应多个response
```
* websocket
```
概念
    websocket协议属于应用层协议。HTTP协议是单向通信协议，只有客户端发起HTTP请求，服务端才会返回数据。
而websocket协议是双向通信协议，在建立连接之后，客户端和服务器端都可以主动的向对方发送或者接收数据。
websocket协议建立的前提是需要借助HTTP协议，建立之后，持久连接的双向通信就与HTTP协议无关了。
```


 
  
 

