# Nginx

* nginx下载源代码包

wget http://nginx.org/download/nginx-1.14.1.tar.gz

* 安装依赖
```
1. 安装Nginx需要用到pcre程序

wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.41.tar.gz

2. 安装epel扩展源

rpm -ivh http://dl.fedoraproject.org/pub/epel/epel-release-lastest-7.noarch.rpm

3. yum clean all   yum list

4.安装依赖包

yum -y install gcc gcc-c++ autoconf automake zlib zlib-devel openssl openssl-devel pcre*

5.解压pcre
tar zxvf pcre-8.41.tar.gz -C /usr/local/src/

6. 创建Nginx运行用户
useradd -M -s /sbin/nologin nginx
```
* Nginx编译参数
```
./configure --prefix=/usr/local/nginx \
--with-http_dav_module --with-http_stub_status_module --with-http_addition_module \
--with-http_sub_module --with-http_flv_module --with-http_mp4_module \
--with-pcre=/usr/local/src/pcre-8.41 --user=nginx --group=nginx
```
* Nginx加入环境变量
```
1. vim /etc/profile

export PATH=/usr/local/nginx/sbin:$PATH

2. source /etc/profile  //刷新全局环境变量
```
* Nginx维护
```
1. 检查配置文件是否有语法错误

nginx -t

2. 查看Nginx版本和配置参数

nginx -V 

3. 优雅而平滑的关闭nginx

nginx -s quit

4. 强制关闭Nginx

nginx -s stop

5. 启动nginx

nginx

6. 重新加载配置文件

nginx -s reload
```
* nginx的组成
```
1. Nginx 二进制可执行文件

   由各模块源码编译出的一个文件
  
2. Nginx.conf 配置文件

   控制 Nginx 的行为
  
3. access.log 访问日志
  
   记录每一条 http 请求信息
  
4. error.log 错误日志

   定位问题
```


